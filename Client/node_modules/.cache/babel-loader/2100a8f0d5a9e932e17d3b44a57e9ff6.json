{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Addy\\\\OneDrive\\\\Documents\\\\React\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Addy\\\\OneDrive\\\\Documents\\\\React\\\\Client\\\\src\\\\components\\\\BaseImage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Image, Layer, Stage } from \"react-konva\";\nimport useImage from \"use-image\";\nimport Urlcheck from \"./Urlcheck\";\nimport { Html } from 'react-konva-utils';\nimport useStore from \"../store\";\nimport { ModalBody } from \"react-bootstrap\";\nvar btn = document.createElement(\"button\");\nbtn.innerText = \"Next\";\ndocument.body.appendChild(btn);\nvar count = 1;\nbtn.addEventListener(\"click\", function (event) {\n  count = count + 1;\n  var P = IMAGE_URL + \"b\";\n  console.log(P);\n});\n\nfunction BaseImage(imageSource) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      imageUrl = _useState2[0],\n      setImageUrl = _useState2[1];\n\n  var _useImage = useImage(imageSource, \"photo\"),\n      _useImage2 = _slicedToArray(_useImage, 2),\n      image = _useImage2[0],\n      setImage = _useImage2[1];\n\n  useEffect(function () {\n    var image = \"image-\".concat(count, \".jpg\");\n  }, []);\n  var setImageSize = useStore(function (state) {\n    return state.setImageSize;\n  });\n  var setScale = useStore(function (state) {\n    return state.setScale;\n  });\n  var setSize = useStore(function (state) {\n    return state.setSize;\n  });\n  var width = useStore(function (state) {\n    return state.width;\n  });\n  var height = useStore(function (state) {\n    return state.height;\n  });\n\n  var _useStore = useStore(),\n      brightness = _useStore.brightness;\n\n  React.useEffect(function () {\n    if (!image) {\n      return;\n    }\n\n    var scale = Math.min(width / image.width, height / image.height);\n    setScale(scale);\n    setImageSize({\n      width: image.width,\n      height: image.height\n    });\n    var ratio = image.width / image.height;\n    setSize({\n      width: width,\n      height: width / ratio\n    });\n  }, [image, width, height, setScale, setImageSize, setSize]);\n  var layerRef = React.useRef(null);\n  console.log(layerRef);\n  React.useEffect(function () {\n    var canvas = layerRef.current.getCanvas()._canvas;\n\n    canvas.style.filter = \"brightness(\".concat((brightness + 1) * 100, \"%)\");\n  }, [brightness]);\n  return /*#__PURE__*/React.createElement(Layer, {\n    ref: layerRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    image: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }));\n}\n\n;\nexport default BaseImage;","map":{"version":3,"sources":["C:/Users/Addy/OneDrive/Documents/React/Client/src/components/BaseImage.js"],"names":["React","useEffect","useState","Image","Layer","Stage","useImage","Urlcheck","Html","useStore","ModalBody","btn","document","createElement","innerText","body","appendChild","count","addEventListener","event","P","IMAGE_URL","console","log","BaseImage","imageSource","imageUrl","setImageUrl","image","setImage","setImageSize","state","setScale","setSize","width","height","brightness","scale","Math","min","ratio","layerRef","useRef","canvas","current","getCanvas","_canvas","style","filter"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Image, Layer,Stage} from \"react-konva\";\nimport useImage from \"use-image\";\nimport Urlcheck from \"./Urlcheck\";\nimport { Html } from 'react-konva-utils';\n\n\n\n\n\n\nimport useStore from \"../store\";\nimport { ModalBody } from \"react-bootstrap\";\n\n\n\nlet btn = document.createElement(\"button\");\nbtn.innerText=\"Next\"\ndocument.body.appendChild(btn)\nlet count=1;\n\nbtn.addEventListener(\"click\", (event)=>{\n  count=count + 1;\n let P = IMAGE_URL + \"b\";\n console.log(P)\n\n\n \n  \n  \n})\n\n\nfunction BaseImage (imageSource) {\n  const [imageUrl, setImageUrl] = useState(null);\n  const [image, setImage] = useImage(imageSource, \"photo\");\n\n  useEffect(() => {\n    const image = `image-${count}.jpg`;\n  }, []);\n  \n\n  const setImageSize = useStore(state => state.setImageSize);\n  const setScale = useStore(state => state.setScale);\n  const setSize = useStore(state => state.setSize);\n  const width = useStore(state => state.width);\n  const height = useStore(state => state.height);\n\n  const { brightness } = useStore();\n\n  React.useEffect(() => {\n    if (!image) {\n      return;\n    }\n    const scale = Math.min(width / image.width, height / image.height);\n    setScale(scale);\n    setImageSize({ width: image.width, height: image.height });\n\n    const ratio = image.width / image.height;\n    setSize({\n      width: width,\n      height: width / ratio\n    });\n  }, [image, width, height, setScale, setImageSize, setSize]);\n\n  const layerRef = React.useRef(null);\n  console.log(layerRef)\n\n  React.useEffect(() => {\n    const canvas = layerRef.current.getCanvas()._canvas;\n    canvas.style.filter = `brightness(${(brightness + 1) * 100}%)`;\n  }, [brightness]);\n\n  return (\n    \n    \n    <Layer ref={layerRef}>      \n      <Image image={image} />    \n       \n\n       \n         \n      \n    </Layer>\n    \n\n   \n    \n  );\n};\n\nexport default BaseImage;"]},"metadata":{},"sourceType":"module"}